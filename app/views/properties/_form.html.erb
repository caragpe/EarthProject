<%# views/properties/_form.html.erb %>

<%= render "shared/errors", obj: @property %>

<div class="row">
    <div class="col-xs-12">
        <%= form_for(@property, :html => {class: "form-horizontal", role: "form"}) do |f| %>
            <div class="form-group">
                <div class="control-label col-sm-2">
                    <%= f.label :property_name %>
                </div>
                <div class="col-sm-8">
                    <%= f.text_field :property_name, class: "form-control", placeholder: "Property name", autofocus: true %> 
                </div>
                <div class="col-sm-2"></div>
            </div>
            <div class="form-group">
                <div class="control-label col-sm-2">
                    <%= f.label :description %>
                </div>
                <div class="col-sm-8">
                    <%= f.text_area :description, rows: 10, class: "form-control", placeholder: "Description of the property", autofocus: true %> 
                </div>
            </div>
            <% if !@property.reports.empty? %>
            <div class="form-group">
                <div class="control-label col-sm-2">
                    Report
                </div>
                <div class="col-sm-8">
                    <%= link_to @property.reports.last.filename, report_path(@property.reports.last.id), method: :get %>
                </div>
            </div>
            <% end %>
            <div class="form-group">
                <div class="control-label col-sm-2">
                    <%= f.label :report, "Add new"  %>
                </div>
                <div class="col-sm-8">
                    <%= f.file_field :file, class: "form-control", placeholder: "Report", autofocus: true %> 
                </div>
            </div>
            <div class="form-group">
                <div class="control-label col-sm-2">
                    <%= f.label :value %>
                </div>
                <div class="col-sm-8">
                    <%= f.number_field :value, class: "form-control", placeholder: "Value", autofocus: true %> 
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <%= f.submit class: "btn btn-primary btn-lg" %> 
                </div>
            </div>
        <% end %>
        <div class="col-xs-4 col-xs-offset-4">
        [ <%= link_to "Cancel request and return to properties listing", properties_path %> ]
        </div>
    </div>
</div>